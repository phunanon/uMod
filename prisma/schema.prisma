generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./db.db"
}

model PermaRole {
  id     Int    @id @default(autoincrement())
  userSf BigInt
  roleSf BigInt
}

model ChannelWhitelist {
  id Int    @id @default(autoincrement())
  sf BigInt
}

model GuildMirror {
  id        Int    @id @default(autoincrement())
  guildSf   BigInt
  channelSf BigInt

  @@unique([guildSf, channelSf])
}

model JoinsLeaves {
  id        Int    @id @default(autoincrement())
  guildSf   BigInt
  channelSf BigInt

  @@unique([guildSf, channelSf])
}

model Member {
  id          Int    @id @default(autoincrement())
  sf          BigInt
  guildSf     BigInt
  tag         String
  numMessages Int    @default(0)

  @@unique([sf, guildSf])
}

model StickyMessage {
  id             Int      @id @default(autoincrement())
  renewAt        DateTime
  sf             BigInt
  guildSf        BigInt
  channelSf      BigInt
  content        String
  renewalSeconds Int

  @@unique([sf, guildSf, channelSf])
}

model GlobalChat {
  id        Int    @id @default(autoincrement())
  guildSf   BigInt @unique
  channelSf BigInt
}

model Response {
  id      Int    @id @default(autoincrement())
  guildSf BigInt
  pattern String
  response String
}
